<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tienda - Legado San José</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="productos.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar scrolled" id="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <a href="index.html"><h1>LEGADO SAN JOSÉ</h1></a>
            </div>
            <ul class="nav-menu">
                <li><a href="index.html#home">Inicio</a></li>
                <li><a href="productos.html">Tienda</a></li>
                <li><a href="index.html#nosotros">Nosotros</a></li>
                <li><a href="index.html#contacto">Contacto</a></li>
            </ul>
            <div class="nav-cart" id="cart-toggle">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="9" cy="21" r="1"></circle>
                    <circle cx="20" cy="21" r="1"></circle>
                    <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                </svg>
                <span class="cart-count" id="cart-count">0</span>
            </div>
        </div>
    </nav>

    <!-- Shop Header -->
    <section class="shop-header">
        <div class="container">
            <h1 class="shop-title">Nuestra Tienda</h1>
            <p class="shop-subtitle">Descubre nuestra colección exclusiva de productos premium</p>
        </div>
    </section>

    <!-- Products Section -->
    <section class="shop-section">
        <div class="container">
            <div class="filter-buttons">
                <button class="filter-btn active" data-filter="all">Todos</button>
                <button class="filter-btn" data-filter="gorras">Gorras</button>
                <button class="filter-btn" data-filter="playeras">Playeras</button>
                <button class="filter-btn" data-filter="mochilas">Mochilas</button>
                <button class="filter-btn" data-filter="maletas">Maletas</button>
            </div>

            <div class="products-grid" id="products-grid">
                <!-- Products will be dynamically loaded here -->
            </div>
        </div>
    </section>

    <!-- Cart Sidebar -->
    <div class="cart-sidebar" id="cart-sidebar">
        <div class="cart-header">
            <h2>Carrito de Compras</h2>
            <button class="cart-close" id="cart-close">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </button>
        </div>
        <div class="cart-items" id="cart-items">
            <!-- Cart items will be dynamically added here -->
        </div>
        <div class="cart-footer">
            <div class="cart-total">
                <span>Total:</span>
                <span id="cart-total">$0 MXN</span>
            </div>
            
            <div class="promo-code-section" style="margin-bottom: 15px;">
                <input type="text" id="internal-code" placeholder="Código Interno (Opcional)" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; margin-bottom: 5px;">
                <small style="color: #666; font-size: 0.8em;">Solo para personal autorizado</small>
            </div>

            <button class="checkout-btn" id="checkout-btn">Proceder al Pago</button>
        </div>
    </div>

    <!-- Product Modal -->
    <div class="product-modal" id="product-modal">
        <div class="modal-overlay" id="modal-overlay"></div>
        <div class="modal-content">
            <button class="modal-close" id="modal-close">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </button>
            <div class="modal-body">
                <div class="modal-image" id="modal-image"></div>
                <div class="modal-details">
                    <h2 id="modal-name"></h2>
                    <p class="modal-price" id="modal-price"></p>
                    <p class="modal-description" id="modal-description"></p>

                    <div class="product-options">
                        <div class="option-group" id="size-group">
                            <label>Talla:</label>
                            <div class="size-buttons" id="size-buttons">
                                <!-- Size buttons will be added dynamically -->
                            </div>
                        </div>

                        <div class="option-group">
                            <label>Cantidad:</label>
                            <div class="quantity-selector">
                                <button class="qty-btn" id="qty-minus">-</button>
                                <input type="number" id="quantity" value="1" min="1" max="10" readonly>
                                <button class="qty-btn" id="qty-plus">+</button>
                            </div>
                        </div>
                    </div>

                    <button class="add-to-cart-btn" id="add-to-cart-btn">Agregar al Carrito</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer" id="contacto">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-column">
                    <h3>LEGADO SAN JOSÉ</h3>
                    <p>Tradición que se viste</p>
                </div>
                <div class="footer-column">
                    <h4>Compra</h4>
                    <ul>
                        <li><a href="productos.html">Productos</a></li>
                        <li><a href="#">Tallas</a></li>
                        <li><a href="#">Envíos</a></li>
                        <li><a href="#">Devoluciones</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h4>Acerca</h4>
                    <ul>
                        <li><a href="index.html#nosotros">Nuestra Historia</a></li>
                        <li><a href="#">Sustentabilidad</a></li>
                        <li><a href="#">Contacto</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h4>Síguenos</h4>
                    <div class="social-links">
                        <a href="#">Instagram</a>
                        <a href="#">Facebook</a>
                        <a href="#">TikTok</a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 Legado San José. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <!-- Stripe.js -->
    <script src="https://js.stripe.com/v3/"></script>
    <script src="stripe-config.js"></script>
    <script src="productos.js"></script>
</body>
</html>
